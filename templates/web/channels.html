{% extends "base.html" %}
{% block title %}{{ title }}{% endblock title %}

{% block main %}
<h1>{{ title }}</h1>
{% include "navigation/web.html" %}
<table>
    {% for channel in channels %}
    <tr>
        <td style="width:128px">
            <a href="/channels/{{ channel.id }}?page=1">
                <img src="{{ channel.image }}" alt="{{ channel.title }}" width="128" height="128"></td>
            </a>
        </td>
        <td>
            <a href="/channels/{{ channel.id }}?page=1">{{ channel.title }}</a>
        </td>
        <td style="white-space:preserve;text-align:left">
            <a href="/channels/{{ channel.id }}?page=1">{{ channel.description }}</a>
        </td>
        <td>
            <a href="/channels/{{ channel.id }}/feed.xml">
                <img src="/assets/rss.svg" alt="RSS" width="24px" style="margin-right: 15px;">
            </a>
        </td>
    </tr>
    {% endfor %}
</table>

<nav data-pagination>
    <ul>
    {% if page > 1 %}
    <a href="/channels/?page=1">1</a>
    {% endif %}
    {% if page > 4 %}
        <li>
            <a href="/channels/?page={{ page / 2 | int }}">...</a>
        </li>
    {% endif %}
    {% if page > 3 %}
        <li>
            <a href="/channels/?page={{ page - 2 }}">{{ page - 2 }}</a>
        </li>
    {% endif %}
    {% if page > 2 %}
        <li>
            <a href="/channels/?page={{ page - 1 }}">{{ page - 1 }}</a>
        </li>
    {% endif %}
        <li class="current">
            <a href="/channels/?page={{ page }}">{{ page }}</a>
        </i>
    {% if page < total - 1 %}
        <li>
            <a href="/channels/?page={{ page + 1 }}">{{ page + 1 }}</a>
        </li>
    {% endif %}
    {% if page < total - 2 %}
        <li>
            <a href="/channels/?page={{ page + 2 }}">{{ page + 2 }}</a>
        </li>
    {% endif %}
    {% if page < total - 3 %}
        <li>
            <a href="/channels/?page={{ (total + page) / 2 | int}}">...</a>
        </li>
    {% endif %}
    {% if page < total %}
        <a href="/channels/?page={{ total }}">{{ total }}</a>
    {% endif %}
    </ul>
</nav>

{% endblock main %}


